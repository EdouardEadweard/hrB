{% extends 'base.html.twig' %}

{% block title %}Accueil - HR Flow{% endblock %}

{% block stylesheets %}
    <style>
        .hero-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 100px 0;
            margin-top: -20px;
        }
        
        .feature-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            color: white;
            font-size: 2rem;
        }
        
        .card-hover {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .stats-card {
            background: linear-gradient(45deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border: none;
        }
        
        .stats-card-2 {
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border: none;
        }
        
        .stats-card-3 {
            background: linear-gradient(45deg, #43e97b 0%, #38f9d7 100%);
            color: white;
            border: none;
        }
        
        .stats-card-4 {
            background: linear-gradient(45deg, #fa709a 0%, #fee140 100%);
            color: white;
            border: none;
        }
        
        .section-title {
            position: relative;
            padding-bottom: 15px;
            margin-bottom: 40px;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 2px;
        }
        
        .timeline {
            position: relative;
            padding: 20px 0;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 30px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #e9ecef;
        }
        
        .timeline-item {
            position: relative;
            padding-left: 70px;
            margin-bottom: 30px;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: 24px;
            top: 5px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #667eea;
        }
        
        .demo-access {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
        }
    </style>
{% endblock %}

{% block body %}
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h1 class="display-4 fw-bold mb-4">
                        Bienvenue sur <span class="text-warning">HR Flow</span>
                    </h1>
                    <p class="lead mb-4">
                        La solution complète pour la gestion des ressources humaines : 
                        congés, présences, équipes et rapports, tout en un seul endroit.
                    </p>
                    <div class="d-flex gap-3 flex-wrap">
                        {% if not app.user %}
                            <a href="{{ path('app_login') }}" class="btn btn-warning btn-lg px-4">
                                <i class="fas fa-sign-in-alt me-2"></i>
                                Se connecter
                            </a>
                            <a href="#features" class="btn btn-outline-light btn-lg px-4">
                                <i class="fas fa-info-circle me-2"></i>
                                En savoir plus
                            </a>
                        {% else %}
                            <a href="{{ path('dashboard_index') }}" class="btn btn-warning btn-lg px-4">
                                <i class="fas fa-tachometer-alt me-2"></i>
                                Tableau de bord
                            </a>
                            <a href="{{ path('employee_leave_request_new') }}" class="btn btn-outline-light btn-lg px-4">
                                <i class="fas fa-calendar-plus me-2"></i>
                                Nouvelle demande
                            </a>
                        {% endif %}
                    </div>
                </div>
                <div class="col-lg-6 text-center">
                    <div class="position-relative">
                        <i class="fas fa-users" style="font-size: 15rem; opacity: 0.1;"></i>
                        <div class="position-absolute top-50 start-50 translate-middle">
                            <i class="fas fa-heart text-warning" style="font-size: 3rem;"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    {% if app.user %}
        <!-- Quick Stats for Logged Users -->
        <section class="py-5">
            <div class="container">
                <div class="row g-4">
                    <div class="col-md-3">
                        <div class="card stats-card h-100 text-center">
                            <div class="card-body">
                                <i class="fas fa-calendar-check fa-3x mb-3"></i>
                                <h3 class="card-title">{{ random(15, 25) }}</h3>
                                <p class="card-text">Jours de congés restants</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card stats-card-2 h-100 text-center">
                            <div class="card-body">
                                <i class="fas fa-clock fa-3x mb-3"></i>
                                <h3 class="card-title">{{ random(160, 180) }}h</h3>
                                <p class="card-text">Heures ce mois</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card stats-card-3 h-100 text-center">
                            <div class="card-body">
                                <i class="fas fa-check-circle fa-3x mb-3"></i>
                                <h3 class="card-title">{{ random(3, 8) }}</h3>
                                <p class="card-text">Demandes approuvées</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card stats-card-4 h-100 text-center">
                            <div class="card-body">
                                <i class="fas fa-bell fa-3x mb-3"></i>
                                <h3 class="card-title">{{ random(1, 5) }}</h3>
                                <p class="card-text">Notifications</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quick Actions for Logged Users -->
        <section class="py-5 bg-light">
            <div class="container">
                <h2 class="text-center section-title">Actions rapides</h2>
                <div class="row g-4">
                    <div class="col-md-4">
                        <div class="card card-hover h-100 text-center">
                            <div class="card-body">
                                <div class="feature-icon">
                                    <i class="fas fa-calendar-plus"></i>
                                </div>
                                <h5 class="card-title">Demander un congé</h5>
                                <p class="card-text">Créez une nouvelle demande de congé en quelques clics.</p>
                                <a href="{{ path('employee_leave_request_new') }}" class="btn btn-primary">
                                    <i class="fas fa-plus me-2"></i>Nouvelle demande
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card card-hover h-100 text-center">
                            <div class="card-body">
                                <div class="feature-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <h5 class="card-title">Pointer</h5>
                                <p class="card-text">Enregistrez votre arrivée ou votre départ.</p>
                                <a href="{{ path('employee_attendance_new') }}" class="btn btn-success">
                                    <i class="fas fa-play me-2"></i>Pointer maintenant
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card card-hover h-100 text-center">
                            <div class="card-body">
                                <div class="feature-icon">
                                    <i class="fas fa-balance-scale"></i>
                                </div>
                                <h5 class="card-title">Mes soldes</h5>
                                <p class="card-text">Consultez vos soldes de congés et historique.</p>
                                <a href="{{ path('employee_leave_balance_index') }}" class="btn btn-info">
                                    <i class="fas fa-eye me-2"></i>Voir les soldes
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Recent Activity -->
        <section class="py-5">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8">
                        <h3 class="mb-4">
                            <i class="fas fa-history text-primary me-2"></i>
                            Activité récente
                        </h3>
                        <div class="timeline">
                            <div class="timeline-item">
                                <div class="card">
                                    <div class="card-body">
                                        <h6 class="card-title text-success">
                                            <i class="fas fa-check-circle me-2"></i>
                                            Demande de congé approuvée
                                        </h6>
                                        <p class="card-text text-muted mb-1">
                                            Votre demande de congé du 15 au 19 juin a été approuvée par votre manager.
                                        </p>
                                        <small class="text-muted">Il y a 2 heures</small>
                                    </div>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="card">
                                    <div class="card-body">
                                        <h6 class="card-title text-info">
                                            <i class="fas fa-clock me-2"></i>
                                            Pointage enregistré
                                        </h6>
                                        <p class="card-text text-muted mb-1">
                                            Arrivée enregistrée à 08:30 ce matin.
                                        </p>
                                        <small class="text-muted">Aujourd'hui à 08:30</small>
                                    </div>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="card">
                                    <div class="card-body">
                                        <h6 class="card-title text-warning">
                                            <i class="fas fa-calendar me-2"></i>
                                            Rappel
                                        </h6>
                                        <p class="card-text text-muted mb-1">
                                            N'oubliez pas : réunion d'équipe demain à 14h00.
                                        </p>
                                        <small class="text-muted">Hier</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <h3 class="mb-4">
                            <i class="fas fa-calendar-alt text-primary me-2"></i>
                            Prochains événements
                        </h3>
                        <div class="card">
                            <div class="list-group list-group-flush">
                                <div class="list-group-item d-flex justify-content-between align-items-start">
                                    <div class="ms-2 me-auto">
                                        <div class="fw-bold">Réunion équipe</div>
                                        <small class="text-muted">Demain 14:00</small>
                                    </div>
                                    <span class="badge bg-primary rounded-pill">Important</span>
                                </div>
                                <div class="list-group-item d-flex justify-content-between align-items-start">
                                    <div class="ms-2 me-auto">
                                        <div class="fw-bold">Formation sécurité</div>
                                        <small class="text-muted">Vendredi 10:00</small>
                                    </div>
                                    <span class="badge bg-info rounded-pill">Formation</span>
                                </div>
                                <div class="list-group-item d-flex justify-content-between align-items-start">
                                    <div class="ms-2 me-auto">
                                        <div class="fw-bold">Congé - Marie Dubois</div>
                                        <small class="text-muted">Lundi - Mercredi</small>
                                    </div>
                                    <span class="badge bg-warning rounded-pill">Équipe</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    {% else %}
        <!-- Features Section for Non-Logged Users -->
        <section id="features" class="py-5">
            <div class="container">
                <h2 class="text-center section-title">Fonctionnalités principales</h2>
                <div class="row g-4">
                    <div class="col-md-4">
                        <div class="card card-hover h-100 text-center">
                            <div class="card-body">
                                <div class="feature-icon">
                                    <i class="fas fa-calendar-alt"></i>
                                </div>
                                <h5 class="card-title">Gestion des congés</h5>
                                <p class="card-text">
                                    Demandez, suivez et gérez tous vos types de congés en toute simplicité. 
                                    Workflow d'approbation intégré.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card card-hover h-100 text-center">
                            <div class="card-body">
                                <div class="feature-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <h5 class="card-title">Suivi des présences</h5>
                                <p class="card-text">
                                    Pointage simple et efficace. Suivez vos heures de travail et 
                                    générez des rapports détaillés.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card card-hover h-100 text-center">
                            <div class="card-body">
                                <div class="feature-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <h5 class="card-title">Gestion d'équipes</h5>
                                <p class="card-text">
                                    Organisez vos équipes, départements et hiérarchies. 
                                    Vue d'ensemble claire de votre organisation.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card card-hover h-100 text-center">
                            <div class="card-body">
                                <div class="feature-icon">
                                    <i class="fas fa-chart-bar"></i>
                                </div>
                                <h5 class="card-title">Rapports & Analytics</h5>
                                <p class="card-text">
                                    Tableaux de bord complets et rapports détaillés pour 
                                    une prise de décision éclairée.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card card-hover h-100 text-center">
                            <div class="card-body">
                                <div class="feature-icon">
                                    <i class="fas fa-bell"></i>
                                </div>
                                <h5 class="card-title">Notifications</h5>
                                <p class="card-text">
                                    Restez informé en temps réel des demandes, approbations 
                                    et événements importants.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card card-hover h-100 text-center">
                            <div class="card-body">
                                <div class="feature-icon">
                                    <i class="fas fa-shield-alt"></i>
                                </div>
                                <h5 class="card-title">Sécurité</h5>
                                <p class="card-text">
                                    Contrôle d'accès granulaire et sécurité des données 
                                    garantie selon les meilleures pratiques.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Demo Access Section -->
        <section class="py-5">
            <div class="container">
                <div class="demo-access text-center">
                    <h3 class="mb-4">
                        <i class="fas fa-play-circle text-primary me-2"></i>
                        Testez HR Flow dès maintenant
                    </h3>
                    <p class="lead mb-4">
                        Découvrez toutes les fonctionnalités avec notre environnement de démonstration.
                    </p>
                    <div class="row justify-content-center">
                        <div class="col-md-8">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="card-title">Comptes de démonstration</h5>
                                    <div class="row text-start">
                                        <div class="col-md-4">
                                            <strong>Administrateur :</strong><br>
                                            <code>admin@hrflow.com</code><br>
                                            <code>admin123</code>
                                        </div>
                                        <div class="col-md-4">
                                            <strong>Manager :</strong><br>
                                            <code>manager@hrflow.com</code><br>
                                            <code>manager123</code>
                                        </div>
                                        <div class="col-md-4">
                                            <strong>Employé :</strong><br>
                                            <code>employee@hrflow.com</code><br>
                                            <code>employee123</code>
                                        </div>
                                    </div>
                                    <div class="mt-4">
                                        <a href="{{ path('app_login') }}" class="btn btn-primary btn-lg">
                                            <i class="fas fa-sign-in-alt me-2"></i>
                                            Commencer la démonstration
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Benefits Section -->
        <section class="py-5 bg-light">
            <div class="container">
                <h2 class="text-center section-title">Pourquoi choisir HR Flow ?</h2>
                <div class="row align-items-center">
                    <div class="col-lg-6">
                        <div class="timeline">
                            <div class="timeline-item">
                                <h5>Interface intuitive</h5>
                                <p class="text-muted">
                                    Design moderne et ergonomique pour une prise en main immédiate 
                                    par tous vos collaborateurs.
                                </p>
                            </div>
                            <div class="timeline-item">
                                <h5>Workflow optimisé</h5>
                                <p class="text-muted">
                                    Processus d'approbation automatisés et personnalisables 
                                    selon votre organisation.
                                </p>
                            </div>
                            <div class="timeline-item">
                                <h5>Responsive & Mobile</h5>
                                <p class="text-muted">
                                    Accès complet depuis n'importe quel appareil : 
                                    ordinateur, tablette ou smartphone.
                                </p>
                            </div>
                            <div class="timeline-item">
                                <h5>Support complet</h5>
                                <p class="text-muted">
                                    Équipe support dédiée et documentation complète 
                                    pour vous accompagner.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 text-center">
                        <i class="fas fa-rocket text-primary" style="font-size: 12rem; opacity: 0.1;"></i>
                    </div>
                </div>
            </div>
        </section>
    {% endif %}
{% endblock %}

{% block javascripts %}
    <script>
        // Smooth scrolling for anchor links
        document.addEventListener('DOMContentLoaded', function() {
            const links = document.querySelectorAll('a[href^="#"]');
            links.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });

        // Animation on scroll (simple intersection observer)
        document.addEventListener('DOMContentLoaded', function() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animation = 'fadeInUp 0.6s ease forwards';
                    }
                });
            });

            const cards = document.querySelectorAll('.card-hover');
            cards.forEach(card => {
                observer.observe(card);
            });
        });
    </script>

    <style>
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
{% endblock %}